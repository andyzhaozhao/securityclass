<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cors测试</title>
</head>
<body>
<button id="button">测试跨域get user</button>
<button id="button2">测试跨域post user</button>
</body>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
</script>
<script>
    var url = "http://localhost:8080/user";

    $("#button2").click(function () {
        $.ajax({
            url: url,
            type: "POST",
            // dataType: 'json',
            xhrFields: {
                withCredentials: true
            },
            headers : {'AAAAAAA':'AAAAAAAhgjkgA'},
            data:{
                "userName": "zhaozhao",
                "sex": "man",
                "dept": "taiji"
            },
            crossDomain: true,
            success: function (data) {
                debugger;
                alert(data)
            },
            error: function (err) {
                debugger;
                alert(err);
            }
        });
    });

    $("#button").click(function () {
        $.ajax({
            url: url,
            type: "GET",
            xhrFields: {
                withCredentials: true
            },
            crossDomain: true,
            success: function (data) {
                debugger;
                alert(data)
            },
            error: function (err) {
                alert(err);
            }
        });

        // $.get(url, function (data, status) {
        //     debugger;
        //     alert("Data: " + data + "nStatus: " + status);
        // });
    });
</script>
</html>